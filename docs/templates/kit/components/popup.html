<div id="main-content" class="-container">
	<h1>Popup</h1>


	<div class="-row">
		<div class="-col4">
			<h3>HTML Popup</h3>
			<p>
				Use widgets <code>-dropdown</code> or <code>-tooltip</code>
			</p>
			<p>
				To set animation to the dialog window add animation name: <code>-fadein--</code>, <code>-fall--</code>, <code>-fliphorizontal--</code>, <code>-flopvertical--</code>, <code>-slidein--</code>, <code>-scalein--</code>, <code>-newspaper--</code>. To add <b>elastic effect</b> just add <code>-elastic--</code> to the animation class â€“ <code>-fall-- -elastic--</code>
			</p>
		</div>
		<div class="-col4">
			<h3>HTML Button</h3>
			<p>
				Add data attributes to any widget <code>data-toggle="popup"</code> and <code>data-target="#popup1"</code>. The plugin will find such buttons automatically. In <code>data-target</code> you can set classes or ids.
			</p>
		</div>
		<div class="-col4">
			<h3>Coffescript</h3>
			<p>Simple way:</p>
			<p><pre hljs class="prettyprint lang-coffeescript">$('.btn-modal123').popup()</pre></p><p>More complicated:</p>
			<p><pre hljs class="prettyprint lang-coffeescript">$('.btn-popup-demo').popup
	beforeopen: ->
		# Get popup class instance
		popup = @data('kit-popup')
		# Find content element inside popup
		content = popup.$el.find '.-content'
		# Set new content
		content.html "Set content here"

	onopen: ->
		# Add active class to the button
		@addClass '_active_'

	onclose: ->
		# Remove active class to the button
		@removeClass '_active_'</pre></p>
		</div>
	</div>



	<div class="-row example-block">

	<div class="-col12 view">
		<a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-demo">corner</a>
		<a class="-btn -error- btn-popup-demo" data-toggle="popup" data-target="#popup-demo2">door</a>
		<a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-demo3">fadein</a>
		<a class="-btn -error- btn-popup-demo" data-toggle="popup" data-target="#popup-demo4">fall</a>
		<a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-demo5">fliphorizontal</a>
		<a class="-btn -error- btn-popup-demo" data-toggle="popup" data-target="#popup-demo6">flipvertical</a>
		<a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-demo7">hugeinc</a>
		<a class="-btn -error- btn-popup-demo" data-toggle="popup" data-target="#popup-demo8">newspaper</a>
		<a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-demo9">scale</a>
		<a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-demo11">slidedown</a>
	</div>

	<div class="-col12 view">
		<a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-demo13">Top</a>
		<a class="-btn -primary- btn-popup-demo-left" data-toggle="popup" data-target="#popup-demo14">Left</a>
		<a class="-btn -primary- btn-popup-demo-right" data-toggle="popup" data-target="#popup-demo15">Right</a>
		<a class="-btn -primary- btn-popup-demo-bottom" data-toggle="popup" data-target="#popup-demo16">Bottom</a>
		<a class="-btn -primary- btn-popup-demo-bottom-right" data-toggle="popup" data-target="#popup-demo17">Bottom right</a>
		<a class="-btn -primary- btn-popup-demo-top-left" data-toggle="popup" data-target="#popup-demo18">Top left</a>
	</div>


	<div class="-col12 example"><pre hljs class="prettyprint lang-html"><a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-demo">Open popup</a>
<a class="-btn -error- btn-popup-demo" data-toggle="popup" data-target="#popup-demo2">Open popup</a>
...
</pre></div>

<div class="-col12 example"><pre hljs class="prettyprint lang-html"><div id="popup-demo" class="-drop _top_ -primary- -fliphorizontal-- -elastic--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo2" class="-drop _top_ -error- -scalein-- -elastic--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>
...
</pre></div>

<div class="-col12 example"><pre hljs class="prettyprint lang-coffeescript">$('.btn-popup-demo').popup
	beforeopen: ->
		popup = @data('kit-popup')
		content = popup.$el.find '.-content'
		content.html "Popup #{popup._id} with dynamic content<br>Random number #{Math.random()}"

	onopen: ->
		@addClass '_active_'

	onclose: ->
		@removeClass '_active_'


$('.btn-popup-demo-left').popup
	positionVertical: 'middle'
	positionHorizontal: 'left'
	beforeopen: ->
		popup = @data('kit-popup')
		content = popup.$el.find '.-content'
		content.html "Popup #{popup._id} with dynamic content<br>Random number #{Math.random()}"

	onopen: ->
		@addClass '_active_'

	onclose: ->
		@removeClass '_active_'

...
</pre></div>


</div>


<h2>Properties</h2>

<table class="-table _horizontal_">
	<thead>
		<tr>
			<th>Name</th>
			<th>Default</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>target</td>
			<td><i>@$btn.data('target')</i></td>
			<td>
				Find element with this selector and work with it as a popup window. Changes button's data attributes
			</td>
		</tr>
		<tr>
			<td>toggle</td>
			<td><i>@$btn.data('toggle') or 'popup'</i></td>
			<td>
				To automatically initialize this plugin without any javascript initialization. Changes button's data attributes. Just in case.
			</td>
		</tr>
		<tr>
			<td>event</td>
			<td><i>click.#{@_name}</i></td>
			<td>
				This event will be used to open popup window; use namespaced events, for example <code>hover.popup</code> or <code>click.popup</code>
			</td>
		</tr>
		<tr>
			<td>eventClose</td>
			<td><i>click.#{@_name}</i></td>
			<td>
				This event will be used to close window; use namespaced events, will be bind on elements with <code>data-dismiss="popup"</code> inside this popup window
			</td>
		</tr>
		<tr>
			<td>positionVertical</td>
			<td><i>'top'</i></td>
			<td>
				Popup position relative to the button.<br>
				<code>'top'</code> / <code>'middle'</code> / <code>'bottom'</code>
			</td>
		</tr>
		<tr>
			<td>positionHorizontal</td>
			<td><i>'center'</i></td>
			<td>
				Popup position relative to the button.<br>
				<code>'left'</code> / <code>'center'</code> / <code>'right'</code>
			</td>
		</tr>
		<tr>
			<td>offset</td>
			<td>
				<i>
					{horizontal:5, vertical:5}
				</i>
			</td>
			<td>
				In <code>px</code>. Offset relative to <code>positionVertical</code> and <code>positionHorizontal</code>
			</td>
		</tr>
		<tr>
			<td>closeUnfocus</td>
			<td>
				<i>
					false
				</i>
			</td>
			<td>
				Close popup if click outside of it.
			</td>
		</tr>
		<tr>
			<td>selfish</td>
			<td>
				<i>
					true
				</i>
			</td>
			<td>
				Close all popup windows when open this one.
			</td>
		</tr>
	</tbody>
</table>


<h2>Methods</h2>

<blockquote class="-primary-">
	Inside each method to get button use <code>@</code> or <code>this</code> in js. Class instance always stores in data attribute of the button element <code>@data('kit-popup')</code> or <code>this.data('kit-popup')</code> in js. To get popup window element do <code>@data('kit-popup').$el</code>.
</blockquote>

<table class="-table _horizontal_">
	<thead>
		<tr>
			<th>Method</th>
			<th>Default</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><b>beforeopen</b></td>
			<td><i>undefined</i></td>
			<td>
				<p>Set a function to call it before window opens. If it returns <code>deferred.promise()</code>, then popup window will not open till <code>deferred.resolve()</code>, and woun't open if <code>deferred.reject()</code>. You can just get data with $.ajax() for popup window.</p>
				<p language="coffeescript"><pre hljs class="prettyprint lang-coffeescript">$('.btn-modal123').popup
	beforeopen: ->
		d = $.Deferred()

		console.log @
		# The button will be in the log
		# so you can add something like
		@addClass '_disabled_'
		# to disable button while getting data for popup window

		console.log @data 'kit-popup'
		# The instance of Modal class will in log
		# so to get popup window element you need to do
		@data('kit-popup').$el.addClass '_disabled_'

		# Do something here before open window
		# in this case it will open popup window after 2 seconds
		setTimeout ->
			d.resolve()
		, 2000
		# End of your code

		d.promise()
</pre></p>
			</td>
		</tr>


		<tr>
			<td><b>onopen</b></td>
			<td><i>undefined</i></td>
			<td>
				<p>Set a function to call it after popup window opens.</p>
			</td>
		</tr>

		<tr>
			<td><b>beforeclose</b></td>
			<td><i>undefined</i></td>
			<td>
				<p>Call this function before popup window closes.</p>
			</td>
		</tr>

		<tr>
			<td><b>onclose</b></td>
			<td><i>undefined</i></td>
			<td>
				<p>Call this function after popup window closes.</p>
			</td>
		</tr>
	</tbody>
</table>


</div>


<div id="popup-demo" class="-drop _top_ -primary- -corner--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo2" class="-drop _top_ -primary- -door--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo3" class="-drop _top_ -error- -fadein--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>

<div id="popup-demo4" class="-drop _top_ -error- -fall--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>

<div id="popup-demo5" class="-drop _top_ -error- -fliphorizontal--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>

<div id="popup-demo6" class="-drop _top_ -error- -flipvertical--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>

<div id="popup-demo7" class="-drop _top_ -error- -hugeinc--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>

<div id="popup-demo8" class="-drop _top_ -error- -newspaper--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>

<div id="popup-demo9" class="-drop _top_ -error- -scale--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>

<div id="popup-demo10" class="-drop _top_ -error- -blur--">
	<i class="-arrow"></i>
	<div class="-content">
		Fall popup
	</div>
</div>

<div id="popup-demo11" class="-drop _top_ -primary- -slidedown--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo12" class="-drop _top_ -primary- -slidein--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo13" class="-drop _top_ -primary- -fadein--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo14" class="-drop _left_ -primary- -fadein--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo15" class="-drop _right_ -primary- -fadein--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo16" class="-drop _right_ _top_ -primary- -fadein--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo17" class="-drop _right_ _top_ -primary- -fadein--">
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>

<div id="popup-demo18" class="-drop _left_ _bottom_ -primary- -fadein--" popup>
	<i class="-arrow"></i>
	<div class="-content">
		Flip horizontal popup
	</div>
</div>
