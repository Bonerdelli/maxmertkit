<div id="main-content" class="-container">
	<h1>Modal</h1>


	<div class="-row">
		<div class="-col4">
			<h3>HTML Modal</h3>
			<p>
				Use widget class <code>-modal</code> to add backdrop. Inside this backdrop add <code>-holder</code> to set dialog window in the center. Inside <code>-holder</code> add <code>-dialog</code> to create dialog window. Use <code>-header</code>, <code>-content</code> and <code>-footer</code> inside.
			</p>
			<p>
				To set animation to the dialog window add animation name: <code>-fadein--</code>, <code>-fall--</code>, <code>-fliphorizontal--</code>, <code>-flopvertical--</code>, <code>-slidein--</code>, <code>-scalein--</code>, <code>-newspaper--</code>.
			</p>
		</div>
		<div class="-col4">
			<h3>HTML Button</h3>
			<p>
				Add data attributes to any widget <code>data-toggle="modal"</code> and <code>data-target="#modal1"</code>. The plugin will find such buttons automatically. In <code>data-target</code> you can set classes or ids.
			</p>
		</div>
		<div class="-col4">
			<h3>Coffescript</h3>
			<p>Simple way:</p>
			<p><pre hljs class="prettyprint lang-coffeescript">el.modal()</pre></p><p>More complicated:</p>
			<p><pre hljs class="prettyprint lang-coffeescript">el.modal
	target: '.modal123'
	toggle: 'modal'
	event: 'click'
	eventClose: 'click'
	backdrop: yes</pre></p>
		</div>
	</div>




	<div class="-row example-block">

	<div class="-col12 view">
		<a class="-btn -primary- btn-modal123" data-toggle="modal" data-target="#modal1">Open modal with 2s delay</a>
		<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal1">Open modal immediately</a>
	</div>


	<div class="-col12 example"><pre hljs class="prettyprint lang-html"><a class="-btn -primary- btn-modal123" data-toggle="modal" data-target="#modal1">Open modal with 2s delay</a>
<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal1">Open modal immediately</a>
</pre></div>
	<div class="-col12 example"><pre hljs class="prettyprint lang-html"><div id="modal1" class="-modal" modal>
	<div class="-holder">
		<div class="-dialog -col6 -primary- -fall-- -elastic--">
			<div class="-header">
				<svg class="-close" data-dismiss="modal" x="0px" y="0px" viewbox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
				<p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="modal">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>
</div>
<div class="-col12 example"><pre hljs class="prettyprint lang-coffeescript">doument.querySelector('.btn-modal-fast').modal()
doument.querySelector('.btn-modal123').modal
	beforeactive: ->
		d = $.Deferred()

		setTimeout ->
			d.resolve()
		, 2000

		d.promise()
</pre></div>

</div>


<h2>Properties</h2>

<table class="-table _horizontal_">
	<thead>
		<tr>
			<th>Name</th>
			<th>Default</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>toggle</td>
			<td><i>@el.getAttribute( 'data-toggle' ) or 'modal'</i></td>
			<td>
				Set toggle type.
			</td>
		</tr>
		<tr>
			<td>target</td>
			<td><i>@el.getAttribute( 'data-target' ) or null</i></td>
			<td>
				Find element with this selector and work with it as a modal window.
			</td>
		</tr>
		<tr>
			<td>dialog</td>
			<td><i>@el.getAttribute( 'data-dialog' ) or ".-dialog"</i></td>
			<td>
				Selector to find dialog block inside target (modal window).
			</td>
		</tr>
		<tr>
			<td>event</td>
			<td><i>@el.getAttribute( 'data-event' ) or "click"</i></td>
			<td>
				This event will be used to open modal window.</code>
			</td>
		</tr>
		<tr>
			<td>eventClose</td>
			<td><i>@el.getAttribute( 'data-event-close' ) or "click"</i></td>
			<td>
				This event will be used to close window. Will listen on elements with <code>data-dismiss=".modal"</code> to close modal window with selector <code>.modal</code>.
			</td>
		</tr>
		<tr>
			<td>backdrop</td>
			<td><i>@el.getAttribute('data-backdrop') or no</i></td>
			<td>
				Close modal window when clicked on the backdrop.
			</td>
		</tr>
		<tr>
			<td>push</td>
			<td><i>@el.getAttribute('data-push') or no</i></td>
			<td>
				<b>NOT TESTED</b>. The selector of the container with WHOLE content, except modal window, to use push animation.
			</td>
		</tr>
		<tr>
			<td>autoOpen</td>
			<td><i>@el.getAttribute('data-autoopen') or no</i></td>
			<td>
				Open modal after initialize.
			</td>
		</tr>
		<tr>
			<td>selfish</td>
			<td><i>@el.getAttribute('data-selfish') or yes</i></td>
			<td>
				Close all Modal instances after current instance initialized.
			</td>
		</tr>
	</tbody>
</table>


<h2>Methods</h2>

<table class="-table _horizontal_">
	<thead>
		<tr>
			<th>Method</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><b>open</b></td>
			<td>
				<p>Open modal window.</p>
			</td>
		</tr>
		<tr>
			<td><b>close</b></td>
			<td>
				<p>Close modal window.</p>
			</td>
		</tr>
		<tr>
			<td><b>enable</b></td>
			<td>
				<p>Start listening to the events.</p>
			</td>
		</tr>
		<tr>
			<td><b>disable</b></td>
			<td>
				<p>Stop listening to the events. Modal window will stay in current status (opened or closed) and will not work anymore.</p>
			</td>
		</tr>
	</tbody>
</table>



<h2>Events</h2>
<blockquote class="-primary-">
	Inside each method to get button use <code>@</code> or <code>this</code> in js. Class instance always stores in data attribute of the button element <code>@data['kitModal']</code> or <code>this.data['kitModal']</code> in js. To get modal window element do <code>@data['kitModal'].el</code>.
</blockquote>

<table class="-table _horizontal_">
	<thead>
		<tr>
			<th>Method</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><b>beforeactive</b></td>
			<td>
				<p>Set a function to call it before window opens. If it returns <code>deferred.promise()</code>, then modal window will not open till <code>deferred.resolve()</code>, and woun't open if <code>deferred.reject()</code>. You can just get data with ajax for modal window.</p>
				<p language="coffeescript"><pre hljs class="prettyprint lang-coffeescript">modals = document.querySelectorAll("[data-toggle='modal']")
for md in modals
	md.modal
		beforeopen: ->
			d = $.Deferred()

			console.log @
			# The button will be in the log
			# so you can add something like

			console.log @data['kitModal']
			# The instance of Modal class will in log
			# so to get modal window element you need to do
			modal = @data['kitModal']
			# From now you can access to the button by
			console.log modal.el
			# And to the modal window element by
			console.log modal.target

			# Do something here before open window
			# in this case it will open modal window after 2 seconds
			setTimeout ->
				d.resolve()
			, 2000
			# End of your code

			d.promise()
</pre></p>
			</td>
		</tr>


		<tr>
			<td><b>onactive</b></td>
			<td>
				<p>Set a function to call it after modal window opens.</p>
			</td>
		</tr>

		<tr>
			<td><b>failactive</b></td>
			<td>
				<p>Set a function to call it if activation failed.</p>
			</td>
		</tr>

		<tr>
			<td><b>beforedeactive</b></td>
			<td>
				<p>Call this function before modal window closes.</p>
			</td>
		</tr>

		<tr>
			<td><b>ondeactive</b></td>
			<td>
				<p>Call this function after modal window closes.</p>
			</td>
		</tr>

		<tr>
			<td><b>faildeactive</b></td>
			<td>
				<p>Set a function to call it if activation failed.</p>
			</td>
		</tr>
	</tbody>
</table>




<h2>Animations</h2>
<p>
	Use widget different animations. Add classes to the <code>-dialog</code>.
</p>
<div class="-row example-block">

	<div class="-col12 view">

			<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-fadein">Fade in</a>
			<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-fliphorizontal">Flip horizontal</a>
			<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-flipvertical">Flip vertical</a>
			<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-newspaper">Newspaper</a>
			<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-corner">Corner</a>
			<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-door">Door</a>
			<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-fall">Fall</a>
			<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-hugeinc">Hugeinc</a>
	</div>


	<div class="-col12 example"><pre hljs class="prettyprint lang-html"><a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-fadein">Fade in</a>
<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-fliphorizontal">Flip horizontal</a>
<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-flipvertical">Flip vertical</a>
<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-newspaper">Newspaper</a>
<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-corner">Corner</a>
<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-door">Door</a>
<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-fall">Fall</a>
<a class="-btn -primary- btn-modal-fast" data-toggle="modal" data-target="#modal-hugeinc">Hugeinc</a>
</pre></div>

<div class="-col12 example"><pre hljs class="prettyprint lang-html"><div id="modal-fadein" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -fadein-- -elastic--">
			<div class="-header">
				<svg class="-close" data-dismiss="modal" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header
			</div>
			<div class="-content">
				...
			</div>
		</div>
	</div>
</div>


<div id="modal-fliphorizontal" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -fliphorizontal-- -elastic--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-fliphorizontal" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header
			</div>
			<div class="-content">
				...
			</div>
		</div>
	</div>
</div>
</pre></div>

<div class="-col12 example"><pre hljs class="prettyprint lang-coffeescript">modals = doument.querySelectorAll('.btn-modal-fast')
for modal in modals
	modal.modal()
</pre></div>

</div>


<blockquote class="-primary-">
	For the whole list of possible animations look at <a href="/animations">animations components</a>.
</blockquote>



</div>




<div id="modal1" class="-modal -hugeinc--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- ">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal1" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn -primary- btn-popup-demo" data-toggle="popup" data-target="#popup-inmodal-demo">Open popup</a>
				</p>
				<p>
					<a class="-btn" data-dismiss="#modal1">Close</a>
				</p>
			</div>
		</div>
		<div id="popup-inmodal-demo" class="-drop _right_ -primary- -fadein--">
			<i class="-arrow"></i>
			<div class="-content">
				Flip horizontal popup
			</div>
		</div>
	</div>
</div>


<div id="modal-fadein" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -fadein-- -elastic--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-fadein" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
				<p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="#modal-fadein">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>


<div id="modal-fliphorizontal" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -fliphorizontal-- -elastic--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-fliphorizontal" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="#modal-fliphorizontal">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>

<div id="modal-flipvertical" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -flipvertical-- -elastic--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-flipvertical" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="#modal-flipvertical">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>

<div id="modal-newspaper" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -newspaper-- -elastic--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-newspaper" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="#modal-newspaper">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>

<div id="modal-corner" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -corner--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-corner" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="#modal-corner">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>

<div id="modal-fall" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -fall-- -elastic--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-fall" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="#modal-fall">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>


<div id="modal-door" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -door--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-door" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="#modal-door">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>


<div id="modal-hugeinc" class="-modal -fadein--">
	<div class="-holder">
		<div class="-dialog -col6 -primary- -hugeinc--">
			<div class="-header">
				<svg class="-close" data-dismiss="#modal-hugeinc" x="0px" y="0px" viewBox="0 0 600 600">
					<circle cx="300" cy="300" r="260"></circle>
					<polygon points="434.444,211.454 389.809,166.819 300.496,256.131 211.434,167.069 166.882,211.621 255.944,300.684 166.638,389.99 211.273,434.626 300.58,345.319 389.642,434.382 434.194,389.83 345.132,300.767 "/>
				</svg>
				Header

			</div>
			<div class="-content">

				<p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
				<p>
					<a class="-btn" data-dismiss="#modal-hugeinc">Close</a>
				</p>
			</div>
		</div>
	</div>
</div>
