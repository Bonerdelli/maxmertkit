@import "./animation/bullets"

@mixin nav-bullets-theme-setter($i)
	#{$nav-bullets-item}
		border-color: nth($themes-background-light-colors, $i)

		&.#{$mod-active}
			background-color: nth($themes-background-light-colors, $i)

		color: nth($themes-white-colors, $i)

	&.#{$mod-invert}
		#{$nav-bullets-item}
			border-color: nth($themes-colors, $i)

			&.#{$mod-active}
				background-color: nth($themes-colors, $i)

			color: nth($themes-colors, $i)

@mixin nav-bullets-ripples-theme-setter($i)
	#{$nav-bullets-item}
		border-color: nth($themes-background-light-colors, $i)
		background-color: nth($themes-background-light-colors, $i)

		&.#{$mod-active}
			background-color: transparent

		color: nth($themes-white-colors, $i)

	&.#{$mod-invert}
		#{$nav-bullets-item}
			border-color: nth($themes-colors, $i)
			background-color: nth($themes-colors, $i)

			&.#{$mod-active}
				background-color: transparent

			color: nth($themes-colors, $i)


@include exports("nav/bullets")

	.#{$nav-bullets-class}
		position: fixed
		top: 50%
		left: 20px
		z-index: 5
		@include user-select(none)

		#{$nav-bullets-item}
			display: block
			margin-bottom: 10px
			border-width: 1px
			border-style: solid
			cursor: pointer
			opacity: .5
			@include transition (all 0.2s ease-out 0s)
			@include transform(rotate(-45deg))
			position: relative

			span
				-webkit-transform: translate3d(0px, 0px, 0px) // Hack for fonts
				@include transition (all 0.2s ease-out 0s)
				position: absolute
				pointer-events: none
				opacity: 0
				left: 100%
				font-weight: 100
				margin-left: 5px
				margin-top: -1px
				top: 0
				white-space: nowrap
				font-style: normal

			&:hover
				span
					opacity: 1

			&.#{$mod-active}
				@include animation(bullets-rotate-from 1.0s ease-in)
				@include transform(rotate(0deg))
				opacity: 1

		&.#{$mod-right}
			left: auto
			right: 20px

			#{$nav-bullets-item}
				@include transform(rotate(45deg))
				span
					right: 100%
					left: auto
					margin-left: auto
					margin-right: 5px
				&.#{$mod-active}
					@include animation(bullets-rotate-from-positive 1.0s ease-in)
					@include transform(rotate(0deg))

		&.#{$mod-top}
			top: 20px
			bottom: inherit
			

		&.#{$mod-bottom}
			bottom: 20px
			top: inherit

		&.#{$mod-bottom}, &.#{$mod-top}
			left: 50%
			#{$nav-bullets-item}
				display: inline-block
				margin-bottom: inherit
				margin-right: 10px

		// Set sizes
		@each $size in $base-sizes-names
			$i: index($base-sizes-names, $size)
			$pixels: nth($base-sizes-values, $i) * $base-font-size - 3
			@if $size == "_normal"
				font-size: $pixels
				#{$nav-bullets-item}
					@include size( $nav-bullets-item-size * nth($base-sizes-values, $i) )
					margin-bottom: $nav-bullets-item-size * nth($base-sizes-values, $i)
			&.#{$size}
				font-size: $pixels
				#{$nav-bullets-item}
					@include size( $nav-bullets-item-size * nth($base-sizes-values, $i) )
					margin-bottom: $nav-bullets-item-size * nth($base-sizes-values, $i)

		@each $theme in $themes
			$i: index($themes, $theme)
			
			@if $theme == "-default-"
				@include nav-bullets-theme-setter($i)
				
			&.#{$theme}
				@include nav-bullets-theme-setter($i)


	.#{$nav-bullets-class}-round
		@extend .#{$nav-bullets-class}

		@each $size in $base-sizes-names
			$i: index($base-sizes-names, $size)
			$pixels: nth($base-sizes-values, $i) * $base-font-size - 3
			@if $size == "_normal"
				#{$nav-bullets-item}
					border-radius: $nav-bullets-item-size * nth($base-sizes-values, $i)

			&.#{$size}
				#{$nav-bullets-item}
					border-radius: $nav-bullets-item-size * nth($base-sizes-values, $i)

	




	.#{$nav-bullets-ripples-class}
		@extend .#{$nav-bullets-class}

		#{$nav-bullets-item}
			opacity: 1

			&:hover
				span
					opacity: 0
			
			&.#{$mod-active}
				&:hover
					span
						opacity: 1
		
		@each $theme in $themes
			$i: index($themes, $theme)
			
			@if $theme == "-default-"
				@include nav-bullets-ripples-theme-setter($i)
				
			&.#{$theme}
				@include nav-bullets-ripples-theme-setter($i)

		@each $size in $base-sizes-names
			$i: index($base-sizes-names, $size)
			$pixels: nth($base-sizes-values, $i) * $base-font-size - 3
			@if $size == "_normal"
				&.#{$mod-right}, &.#{$mod-left}, &.#{$mod-bottom}, &.#{$mod-top}
					#{$nav-bullets-item}
						border-radius: $nav-bullets-item-size * nth($base-sizes-values, $i)
						@include transform( scale(0.5, 0.5) )
						&.#{$mod-active}
							@include transform( scale(1, 1) )

			&.#{$size}
				&.#{$mod-right}, &.#{$mod-left}, &.#{$mod-bottom}, &.#{$mod-top}
					#{$nav-bullets-item}
						border-radius: $nav-bullets-item-size * nth($base-sizes-values, $i)
						@include transform( scale(0.5, 0.5) )
						&.#{$mod-active}
							@include transform( scale(1, 1) )





	@include media(new-breakpoint(max-width 768px 6))
		.#{$nav-bullets-class}
			#{$nav-bullets-item}
				span
					display: none